{% extends "base.html" %}
{% set active_page = "browse" %}

{% block body_content %}

<script>
  var pat_info="Select patient";
  $(function() {
    $( "#pat_menu" ).menu ({
      select: function(event,data){
        $( "#pat_demograph" ).html("Info for patient: " +
        data.item[0].innerHTML +"<br /><br /> Age:<br /><br />Address: <br /><br /> Date last image taken:<br />");
        //this will eventually be pulled from a database to show recent info about patient
      }
    });
  });
  
  window.onload = function() {
  
  var patlist = $('#pat_menu');
  var addPat = $('#add_patient').on('click', function() {
    patlist[0].innerHTML= patlist[0].innerHTML + '<li class="ui-menu-item" id="ui-id" tabindex="-1" role="menuitem">'+ $('#lname')[0].value + ', ' + $('#fname')[0].value +'</li>'
    $('#add_pat_popup').modal('hide');
    $('#lname')[0].value='';
    $('#fname')[0].value='';
    $('#bday')[0].value='';
    });
  };
</script>
</br>
</br>
<h1>Browse available patients</h1>
</br>
<dl>
  <dt>Select a patient to access images</dt>
</dl>
<div class="row container-fluid">
  <div class="row">
    <label class="col-md-2">Search for patient: </label>
    <input type="text" class="col-md-2">
    <div class="col-md-1"></div>
    <button class="col-md-1" id=addPat>Add Patient</button>
  </div>


<div class="row container-fluid">

  <ul class="col-md-2" id="pat_menu">
    <li>Carter, David Jr.</li>
    <li>Kane, Robert</li>
    <li>Smith, Carl</li>
    <li>Tully, Roberta</li>
  </ul>
  <label class="col-md-4" id="pat_demograph">Select Patient</script></label>
</div>
</br></br></br></br>
<button class="col-md-1" onclick="location.href='/manage'">Select Patient</button>
<div class="col-md-2"></div>
<button class="col-md-1" id='editPat'>Edit Patient</button>
<div class="col-md-2"></div>
<button class="col-md-1">Cancel</button>
<script>
  $('#editPat').on('click', function() {
    console.log( $("#modalTitle") );
    $("#modalTitle").html("Edit Patient");
    $("#lname").val("Carter");
    $("#fname").val("David");
    $("#bday").val("1986-01-02");
    $('#add_pat_popup').modal('show');

})
  $('#addPat').on('click', function() {
    $("#modalTitle").html("Add Patient");
    $("#lname").val("");
    $("#fname").val("");
    $("#bday").val("");
    $('#add_pat_popup').modal('show');
})
</script>
  <div class="modal add_pat container-fluid" id='add_pat_popup' role='dialog'>
    <h2 id="modalTitle"></h2>
    <br>
    <label>Last (Given) Name: </label>
    <input id='lname' type="text" >
    <label>First Name: </label>
    <input id='fname' type="text" >
    <label>Date of Birth: </label>
    <input id='bday' type="date" >
    <br>
    <br>
    
    <label>Street Address </label>
    <input id='address' type="text" >
    <label>City: </label>
    <input id='city' type="text" >
    <br>
    <label>State: </label>
    <input id='state' type="text" >
    <label>ZIP: </label>
    <input id='zip' width=5 type="text" >
    <br>
    <br>
    
    <label id=>Other Information: </label>
    <textarea width=80px>  </textarea>
    <br>
    <button id="add_patient">Update</button>
    <button data-dismiss="modal">Cancel</button>
    <br>
    <br>
  </div>
</div>
</br>
{% endblock body_content %}